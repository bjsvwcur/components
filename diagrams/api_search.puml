@startuml
[Permission Service] as ps
() HTTP as psi
psi - ps
 
database "Config-DB" {
  [View *_solr_v] as config_v
}

database "Geodata" {
  [View *_solr_v] as data_v
}


package "search" {

  package "Solr" {
    [DIH - Data Import Handler] as dih
    () HTTP as dihi    
    dih --> config_v : jdbc
    dih --> data_v : jdbc

    () HTTP as uhi
    () HTTP as qi

    uhi - [Update]
    dihi - [dih]
    qi - [Query]
  }

  [Searchservice] as ss
  () HTTP as ssi
  ssi - ss
  ss --> qi
  ss --> psi

  [GRETL - JOB] as gretl

  [Indexupdater] as iu
  () HTTP as iui
  iui - iu
  iu --> uhi
  iu --> dihi
  iu --> qi

  
  [AGDI Publish] --> iui
  gretl --> iui
}











legend bottom left
  Komponenten-Diagramm der SOLR-Suche:

  Beinhaltet die f체r die Bereitstellung des Suchservice notwendigen Komponenten.
  Die Clients konsumieren mittels Suchanfragen den Searchservice.
  Die Aktualisierung des Suchindexes erfolgt 체ber den Indexupdater.
  
  Abstraktionen im Diagramm:
  - Stellvertretend ist nur eine Datenbank als Datenquelle f체r den SOLR-Index dargestellt.
  - Die Abh채ngkeiten des Permission Service sind nicht abgebildet.
endlegend
@enduml
